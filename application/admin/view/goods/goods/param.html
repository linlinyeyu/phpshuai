<div ng-controller="param">
	<div class="btn btn-primary" ng-click="addline()">增加一行</div>
	<table class="table">
		<thead>
            <tr>
                <th style='width:50px;'></th>
                <th>属性名称</th>
                <th>属性值</th>
            </tr>
        </thead>
        <tbody ui-sortable="sortableOptions" ng-model="param_line">
        	<tr ng-repeat="p in param_line">
        		<td >
        			<a href="javascript:;" style="cursor: move;" class="fa fa-move" title="拖动调整此显示顺序"><i class="fa fa-arrows"></i></a>&nbsp;
        			<a href="javascript:;" ng-click="deleteParam($index)" style="margin-top:10px;" title="删除"><i class='fa fa-remove'></i></a>
        		</td>
        		<td>
        			<input ng-model="p.name"  />
        		</td>
        		<td>
        			<input ng-model="p.value"  />
        		</td>
        	</tr>
        </tbody>
	</table>
	<input type="hidden" name="params" value="{{param_line | json}}" />
</div>

<script>
	app.controller("param",["$scope",function($scope){
		$scope.param_line = {$goods.params | json_encode};
		
		$scope.addline = function(){
			var data = {"id":0, "name" : "", "value" : ""};
			$scope.param_line.push(data);
		}
		
		$scope.deleteParam = function(index){
			$scope.param_line.splice(index,1);
		}
	}]);
	
	
</script>